# CSV parser
## これは何?
JavaによるCSVパーサのプログラムです。
- カンマ区切りのテキストファイルを1行ずつ読み込んで、Stringの配列に変換します。
- ダブルクォートで囲むことで、中にカンマや改行を含めることができます。ダブルクォート内にダブルクォートを書く時は、ダブルクォートをふたつ重ねます(RFC4180準拠)。
- 行ごとに列の数が違っていても、意に介しません。
- ヘッダ行を特別扱いする機能はありません。ヘッダ行がある場合は、必要に応じてアプリケーションで読み飛ばすなりしてください。
- 入力の文字コードはUTF-8固定、区切り文字はカンマ固定です。小さなプログラムなので、その辺を変えたければ自分でソースを直してください。
- カンマ前後の空白は読み飛ばされません。カンマの後に空白があればそれは次のデータの最初の文字になります。その後にダブルクォートが出てきても、ダブルクォートで囲んだことにはなりません。
  また、ダブルクォートを閉じた後には、必ずカンマか改行かファイルの終わりが来なければいけません。

## 使い方
- CsvParser.newInstance()にファイル名を渡してファイルをオープンし、以後、readLine()で１行分ずつデータを取得します。
- 戻り値のString[]に、各列のデータが入っています。
- 最後まで読み終わるとnullを返します。
- newInstance()には、ファイル名のほか、java.io.Readerを渡すこともできます。
```
    try (var parser = CsvParser.newInstance("data.csv")) {
        String[] fields;
        while ((fields = parser.readLine()) != null) {
            // ここで、fieldsには、1行分のデータをカンマで分割したものが格納されている。
        }
    }
```
## ライセンスについて
NYSL Version 0.9982とします。作者は一切の著作権を主張しませんので、改変するなり煮るなり焼くなり好きにしてください。
http://www.kmonos.net/nysl/
